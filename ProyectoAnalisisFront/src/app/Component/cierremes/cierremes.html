<div class="container-fluid py-3">
  <h5 class="m-0 mb-3">Ejecutar Cierre Mensual</h5>
  <div class="card shadow-sm">
    <div class="card-body">


      <form [formGroup]="form" (ngSubmit)="ejecutarCierreMensual()" class="row g-3 mb-4">

     
        <div class="col-md-2">
          <label class="form-label">AÃ±o</label>
          <input type="text" class="form-control" [value]="anioActual()" readonly />
        </div>

       
        <div class="col-md-2">
          <label class="form-label">Mes</label>
          <input type="text" class="form-control" [value]="mesActualTexto()" readonly />
        </div>

     
        <div class="col-md-8 d-flex align-items-end">
          <button
            type="submit"
            class="btn btn-success btn-lg me-2"
            [disabled]="ejecutando()">
            <span *ngIf="ejecutando()" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
            {{ ejecutando() ? 'Procesando...' : 'Ejecutar Cierre' }}
          </button>
          <button
            type="button"
            class="btn btn-secondary btn-lg"
            (click)="limpiarResultado()">
            Limpiar
          </button>
        </div>
      </form>


      <div *ngIf="mensaje()" class="mt-3">
        <div
          class="alert"
          [class.alert-success]="!esError()"
          [class.alert-danger]="esError()"
          role="alert">
          {{ mensaje() }}
        </div>
      </div>

    </div>
  </div>
</div>